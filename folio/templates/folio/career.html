{% extends 'folio/base.html' %}
{% load static %}

{% block content %}
<div class="page-wrap">

<section class="section">
    <h1>üöÄ Career Dashboard</h1>
    <p>Plan your roadmap, track progress & achievements</p>
</section>

<div class="container my-4">
  <div class="row g-4">

    <!-- Skills Cloud -->
    <div class="col-md-4">
      <div class="glass-box p-3 text-center">
        <h4>Skills</h4>
        <div class="skills-cloud mt-2">
            {% for skill in career.skills %}
            <span class="skill-badge">{{ skill }}</span>
            {% empty %}
            <span class="text-muted">No skills yet</span>
            {% endfor %}
        </div>
      </div>
    </div>

    <!-- Goals with progress -->
    <div class="col-md-4">
      <div class="glass-box p-3">
        <h4>Goals</h4>
        <ul class="goal-list">
          {% for goal in career.goals %}
          <li>
            <span>{{ goal.title }}</span>
            <div class="progress-bar">
                <div class="progress-fill" style="width:{{ goal.progress }}%"></div>
            </div>
          </li>
          {% empty %}
          <li>No goals set</li>
          {% endfor %}
        </ul>
      </div>
    </div>

    <!-- Certifications & Achievements -->
    <div class="col-md-4">
      <div class="glass-box p-3 text-center">
        <h4>Certifications</h4>
        <div class="cert-list mt-2">
            {% for cert in career.certificates %}
            <span class="cert-badge">‚úî {{ cert.title }}</span>
            {% empty %}
            <span class="text-muted">No certifications yet</span>
            {% endfor %}
        </div>
      </div>
    </div>

  </div>
</div>

<!-- Recent Activity Timeline -->
<div class="container my-5">
    <h4 class="text-center mb-3">üìà Recent Activity</h4>
    <div class="timeline">
        {% for activity in career.recent_activity %}
        <div class="timeline-item">
            <span class="timeline-date">{{ activity.date }}</span>
            <p>{{ activity.desc }}</p>
        </div>
        {% empty %}
        <p class="text-center text-muted">No recent activity</p>
        {% endfor %}
    </div>
</div>

<!-- Roadmap Cards -->
<div class="container my-5">
    <h4 class="text-center mb-3">üõ£Ô∏è Career Roadmap</h4>
    <div class="row g-4">
        {% for step in career.roadmap %}
        <div class="col-md-4">
            <div class="glass-box roadmap-card">
                <h5>{{ step.title }}</h5>
                <p>{{ step.description }}</p>
                <small>Status: <strong>{{ step.status }}</strong></small>
            </div>
        </div>
        {% empty %}
        <p class="text-center text-muted">Roadmap is empty</p>
        {% endfor %}
    </div>
</div>

</div>

<!-- ===================== STYLES ===================== -->
<style>
/* Skills badges */
.skills-cloud{
    display:flex;
    flex-wrap:wrap;
    gap:8px;
    justify-content:center;
}
.skill-badge{
    background:linear-gradient(45deg,#5cc7ff,#ff5c5c);
    padding:6px 12px;
    border-radius:20px;
    font-size:.85rem;
    color:#fff;
    box-shadow:0 0 15px rgba(92,199,255,0.4);
    transition:.3s;
}
.skill-badge:hover{transform:scale(1.1);}

/* Progress bars */
.goal-list{list-style:none;padding:0;margin:0}
.goal-list li{margin-bottom:12px}
.progress-bar{
    width:100%;
    height:8px;
    background:rgba(255,255,255,0.1);
    border-radius:20px;
    overflow:hidden;
    margin-top:4px;
}
.progress-fill{
    height:100%;
    background:linear-gradient(90deg,#ff5c5c,#ffb86c);
    border-radius:20px;
}

/* Certification badges */
.cert-list{
    display:flex;
    flex-wrap:wrap;
    gap:8px;
    justify-content:center;
}
.cert-badge{
    background:#2daaff;
    padding:6px 12px;
    border-radius:20px;
    font-size:.85rem;
    color:#fff;
    box-shadow:0 0 12px rgba(45,170,255,0.5);
}

/* Timeline */
.timeline{
    border-left:2px dashed rgba(255,255,255,0.2);
    padding-left:20px;
}
.timeline-item{
    position:relative;
    margin-bottom:20px;
}
.timeline-item::before{
    content:"";
    position:absolute;
    left:-10px;
    top:4px;
    width:12px;
    height:12px;
    background:#ff5c5c;
    border-radius:50%;
}
.timeline-date{
    font-size:.8rem;
    color:#ccc;
}

/* Roadmap cards */
.roadmap-card{
    transition:.3s;
}
.roadmap-card:hover{
    transform:translateY(-6px) scale(1.02);
    box-shadow:0 0 35px rgba(255,92,92,.3);
}
</style>
{% endblock %}