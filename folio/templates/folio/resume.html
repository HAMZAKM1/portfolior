{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>{{ user.first_name }} {{ user.last_name }} ‚Äì Resume</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <style>
    body { background: #f4f6f9; font-family: 'Poppins', sans-serif; transition: background 0.3s, color 0.3s; scroll-behavior: smooth; }
    .dark-mode { background:#1a1a1a; color:#f1f1f1; }
    .resume-box { max-width: 900px; margin: 40px auto; background: #fff; padding: 30px; border-radius: 20px; box-shadow: 0 8px 24px rgba(0,0,0,0.1); transition: transform 0.3s ease; }
    .dark-mode .resume-box { background: #2a2a2a; color: #f1f1f1; box-shadow: 0 8px 24px rgba(0,0,0,0.5); }
    .section-title { border-bottom: 3px solid #2a6df4; padding-bottom: 5px; margin-bottom: 20px; display:inline-block; }
    .progress { height: 10px; margin-bottom: 15px; border-radius: 10px; overflow: hidden; background: #ddd; }
    .progress-bar { background: linear-gradient(90deg,#00c6ff,#0072ff,#00ff87); background-size:300% 100%; animation: moveGradient 3s infinite alternate; }
    @keyframes moveGradient { 0%{background-position:0% 50%;} 100%{background-position:100% 50%;} }
    .btn-download { background:#2a6df4; color:#fff; transition: 0.3s; }
    .btn-download:hover { background:#1a4ed4; color:#fff; }
    .dark-toggle { position:fixed; top:20px; right:20px; z-index:999; background:#2a6df4; color:white; border:none; border-radius:50%; width:50px; height:50px; font-size:22px; transition:0.3s; }
    .dark-toggle:hover { background:#1a4ed4; cursor:pointer; }
    iframe { border:1px solid #ccc; border-radius:10px; margin-top:20px; }
    h1,h3,h5 { margin-bottom:10px; }
    .back-btn { margin-top:30px; }
    .social-links a { margin:0 10px; color:#2a6df4; font-size:20px; transition:0.3s; }
    .dark-mode .social-links a { color:#00c6ff; }
    .social-links a:hover { transform: scale(1.2); }
  </style>
</head>
<body>

<!-- Dark Mode Toggle -->
<button id="darkToggle" class="dark-toggle">üåô</button>

<div class="resume-box">

  <!-- Header -->
  <div class="text-center mb-4">
    <h1>{{ user.first_name }} {{ user.last_name }}</h1>
    <h5 class="text-muted">Full Stack Developer</h5>
    <p>Email: youremail@example.com | Phone: +1234567890</p>

    <!-- Social Links -->
    <div class="social-links mb-3">
      <a href="https://github.com/username" target="_blank"><i class="fab fa-github"></i></a>
      <a href="https://linkedin.com/in/username" target="_blank"><i class="fab fa-linkedin"></i></a>
      <a href="https://twitter.com/username" target="_blank"><i class="fab fa-twitter"></i></a>
    </div>

    <a href="{% static 'files/resume.pdf' %}" class="btn btn-download mb-3" download>üìÑ Download Resume</a>

    <!-- Embedded PDF -->
    <iframe src="{% static 'files/resume.pdf' %}" width="100%" height="600px"></iframe>
  </div>

  <!-- Education -->
  <h3 class="section-title">üéì Education</h3>
  <ul>
    <li><strong>B.Sc. in Computer Science</strong> ‚Äì XYZ University (2018 - 2022)</li>
    <li><strong>High School</strong> ‚Äì ABC School (2016 - 2018)</li>
  </ul>

  <!-- Experience -->
  <h3 class="section-title">üíº Work Experience</h3>
  <div class="mb-3">
    <h5>Software Engineer ‚Äì Tech Company</h5>
    <p class="text-muted">2022 - Present</p>
    <p>Worked on building scalable web apps with Django, React, and REST APIs. Collaborated with designers and backend engineers to improve user experience.</p>
  </div>
  <div class="mb-3">
    <h5>Intern ‚Äì Startup</h5>
    <p class="text-muted">2021 - 2022</p>
    <p>Developed internal dashboards, automated reporting scripts, and optimized database queries for faster performance.</p>
  </div>

  <!-- Skills -->
  <h3 class="section-title">‚ö° Skills</h3>
  <p>Django</p>
  <div class="progress"><div class="progress-bar" style="width: 90%"></div></div>
  <p>React.js</p>
  <div class="progress"><div class="progress-bar" style="width: 80%"></div></div>
  <p>Python</p>
  <div class="progress"><div class="progress-bar" style="width: 95%"></div></div>
  <p>SQL</p>
  <div class="progress"><div class="progress-bar" style="width: 85%"></div></div>

  <!-- Back Button -->
  <div class="text-center back-btn">
    <a href="{% url 'index' %}" class="btn btn-secondary">‚Üê Back to Home</a>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script>
  // Dark mode toggle
  const darkBtn = document.getElementById("darkToggle");
  if(localStorage.getItem("darkMode")=="true") document.body.classList.add("dark-mode");
  darkBtn.addEventListener("click", ()=>{
    document.body.classList.toggle("dark-mode");
    localStorage.setItem("darkMode", document.body.classList.contains("dark-mode"));
  });
</script>
</body>
</html>
